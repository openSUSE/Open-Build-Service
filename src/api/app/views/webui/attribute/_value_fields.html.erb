<div class="nested-fields">
  <div class="field">
  <p>
    <% if @attribute.values_addable? %>
      <%= f.label :position %>
      <%= f.number_field :position, class: "attrib-position-input", size: 3 %>
    <% end -%>
    <%= f.label :value %>
    <% if @attribute.attrib_type.allowed_values.any? %>
      <%= f.select :value, @attribute.attrib_type.allowed_values.collect { |a| a.value }, {include_blank: false}, {id: 'attrib-default-select'} %>
    <% else %>
      <%= f.text_field :value %>
    <% end -%>
    <% if @attribute.values_removeable? %>
      <%= link_to_remove_association "remove value", f %>
    <% end -%>
  </p>
  </div>
</div>