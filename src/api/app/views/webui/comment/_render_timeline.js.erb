<% if file_name %>
  $("#diff-item-<%= file_name.parameterize %>").html("<%= escape_javascript(render(DiffComponent.new(diff: diff,
                                              file_index: file_index, commentable: commentable,
                                              commented_lines: commented_lines, file_name: file_name))) %>");
  collectDeleteConfirmationModalsAndSetValues();
<% else %>
  $('#comments-thread').html("<%= escape_javascript(render(BsRequestActivityTimelineComponent.new(bs_request: bs_request, request_reviews_for_non_staging_projects: request_reviews))) %>");
<% end %>
commentFieldToggle();
