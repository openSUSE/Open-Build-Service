<div class="clearfix">
  <% if obj.has_element? 'build' %>
    <div style="min-width: 50%; float: left">
      <h3>Build Flag <%= image_tag 'ajax-loader.gif', id: 'spinner_flag_table_build', class: 'spinner hidden' %><span id='error_flag_table_build' class='flagerror'></span></h3>
      <%= render partial: 'shared/repositories_flag_table', locals: { flag: :build, obj: obj } %>
    </div>
  <% end %>
  <% if obj.has_element? 'publish' %>
    <div style="min-width: 50%; float: left">
      <h3>Publish Flag <%= image_tag 'ajax-loader.gif', id: 'spinner_flag_table_publish', class: 'spinner hidden' %><span id='error_flag_table_publish' class='flagerror'></span></h3>
      <%= render partial: 'shared/repositories_flag_table', locals: { flag: :publish, obj: obj } %>
    </div>
  <% end %>
</div>

<div class="clearfix">
  <% if obj.has_element? 'debuginfo' %>
    <div style="min-width: 50%; float: left;">
      <h3>Debuginfo Flag <%= image_tag 'ajax-loader.gif', id: 'spinner_flag_table_debuginfo', class: 'spinner hidden' %><span id='error_flag_table_debuginfo' class='flagerror'></span></h3>
      <%= render partial: 'shared/repositories_flag_table', locals: { flag: :debuginfo, obj: obj } %>
    </div>
  <% end %>
  <% if obj.has_element? 'useforbuild' %>
    <div style="min-width: 50%; float: left">
      <h3>Use for Build Flag <%= image_tag 'ajax-loader.gif', id: 'spinner_flag_table_useforbuild', class: 'spinner hidden' %><span id='error_flag_table_useforbuild' class='flagerror'></span></h3>
      <%= render partial: 'shared/repositories_flag_table', locals: { flag: :useforbuild, obj: obj } %>
    </div>
  <% end %>
</div>

<% content_for :head_javascript do %>
  var last_triggered_flag = null;
  var change_flag_url = '<%= url_for(project: @project, package: @package, action: :change_flag) %>';
<% end %>
<% content_for :ready_function do %>
  $('.flag_trigger').click(flag_trigger);
<% end %>
