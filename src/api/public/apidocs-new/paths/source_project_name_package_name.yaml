get:
  summary: List source files of a packages of a project.
  description: Get a list of source files belonging to a project.
  security:
    - basic_authentication: []
  parameters:
    - $ref: '../components/parameters/project_name.yaml'
    - $ref: '../components/parameters/package_name.yaml'
  responses:
    '200':
      content:
        application/xml; charset=utf-8:
          schema:
            $ref: '../components/schemas/directory.yaml'
          example:
            name: package_1
            rev: 4
            vrev: 4
            srcmd5: 2e276a9a18eb1f4e6d1187d456c9335d
            entry:
              - name: _config
                md5: 38a56fe6747ddc35214cb2ace161496f
                size: 59
                mtime: 1677507657
              - name: somefile.txt
                md5: 8680db994e398a1542c6fd05ee7f9fef
                size: 55
                mtime: 1677507647
    '401':
      $ref: '../components/responses/unauthorized.yaml'
    '404':
      description: Not Found.
      content:
        application/xml; charset=utf-8:
          schema:
            $ref: '../components/schemas/api_response.yaml'
          examples:
            Unknown Project:
              value:
                code: unknown_project
                summary: "Project not found: home:some_project"
            Unknown Package:
              value:
                code: unknown_package
                summary: "Package not found: home:some_project/some_package"
  tags:
    - Sources - Packages

delete:
  summary: Deletes a specified package including all its source files.
  description: Deletes a specified package including all its source files, if no other packages use this package as devel package.
  security:
    - basic_authentication: []
  parameters:
    - $ref: '../components/parameters/project_name.yaml'
    - $ref: '../components/parameters/package_name.yaml'
    - in: query
      name: comment
      schema:
        type: string
      description: Comment to be included in the revision history of the package.
      example: This package was no longer needed.
    - in: query
      name: force
      schema:
        type: string
        enum:
          - 1
          - 0
      default: 0
      description: Set to `1` to delete this package, even if other packages use this one as devel package.
      example: 1
  responses:
    '200':
      $ref: '../components/responses/succeeded.yaml'
    '400':
      description: Bad Request.
      content:
        application/xml; charset=utf-8:
          schema:
            $ref: '../components/schemas/api_response.yaml'
          examples:
            Delete Error:
              value:
                code: delete_error
                summary: "Package is used by following packages as devel package: project_devel/ctris"
    '401':
      $ref: '../components/responses/unauthorized.yaml'
    '404':
      description: Not Found.
      content:
        application/xml; charset=utf-8:
          schema:
            $ref: '../components/schemas/api_response.yaml'
          examples:
            Unknown Project:
              value:
                code: unknown_project
                summary: "Project not found: home:some_project"
            Unknown Package:
              value:
                code: unknown_package
                summary: "Package not found: home:some_project/some_package"
  tags:
    - Sources - Packages
